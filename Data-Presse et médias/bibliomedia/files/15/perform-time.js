define(function(require){"use strict";var n={},e={},t=!0;if("performance"in window){var i=performance.getEntriesByType||performance.webkitGetEntriesByType||performance.msGetEntriesByType||performance.mozGetEntriesByType||null;i||(n.analyzeEntries=function(){})}else n.analyzeEntries=function(){};var r=function(n,t){if("string"!=typeof n&&!(n instanceof RegExp))return!1;for(var r=[],o=i.call(performance,"resource"),a=0,s=o.length;a<s;a++){var f=o[a].name;encodeURI(n)!==f&&null==f.match(n)||f in e||(r.push(o[a]),e[f]=!0)}return 0!==r.length&&(setTimeout(function(){t(r)},0),!0)};n.analyzeEntries=n.analyzeEntries||r,n.startMonitoringEntries=function(e,i,r){r||(r=1e3),t=!0,c(document,"DOMContentLoaded",function(){n.analyzeEntries(e,i)}),c(window,"load",function(){n.analyzeEntries(e,i),setTimeout(function o(){return!!t&&(n.analyzeEntries(e,i),void setTimeout(o,r))},r)})},n.stopResourceMonitoring=function(){t=!1},n.getOrMonitorEntries=function(e,t,i){return n.analyzeEntries(e,t)===!0||n.startMonitoringEntries(e,t,i)};var o=0,a=500,s=10,f=!0;"externalHost"in window&&(f=!1),n.getFirstPaintTime=function n(e){if(f===!1)return!1;if("chrome"in window&&"loadTimes"in chrome){var t=chrome.loadTimes().firstPaintTime;t=Math.round(1e3*t)}else if("performance"in window&&"timing"in performance&&"msFirstPaint"in performance.timing)var t=performance.timing.msFirstPaint;else f=!1;if(f===!0)if(t-=performance.timing.navigationStart,t>0){if(t>6e5)return!1;setTimeout(function(){e(t)},0)}else s>o&&setTimeout(function(){o++,n(e)},a)};var c=function(n,e,t){n.addEventListener&&n.addEventListener(e,t,!1)};return n});