function Popup(n,t,i,r,u,f){u||(u=525);f||(f=500);openMyModal(t,u,f)}function ShowWaitingAnim2(){var n=document.getElementById("divShowWaiting");n&&(n.style.visibility="visible")}function ShowWaitingAnim(){ShowWaitingAnimTimeout(300)}function ShowWaitingAnimTimeout(n){animTimer=n?setTimeout("ShowWaitingAnim2()",n):setTimeout("ShowWaitingAnim2()",300)}function HideWaitingAnim(){clearTimeout(animTimer);animTimer=null;var n=document.getElementById("divShowWaiting");n&&(n.style.visibility="hidden")}function smallMessageDialog(n,t){$("body").append($('<div id="smMsgDlg"><p><i class="fa fa-lg '+(t?"fa-check":"fa-times")+'"><\/i><span class="sm-msg-text">'+n+"<\/span><\/p><\/div>"));var i="sm-msg-dialog no-title "+(t?"sm-msg-conf":"sm-msg-err"),r=$("#smMsgDlg").dialog({modal:!0,height:75,dialogClass:i,buttons:[]});setTimeout(function(){r.dialog("close")},2e3)}function initScroll(n){var t=$(n).attr("id"),i=typeof _topicId=="undefined"?!0:_topicId==0?!1:!0;return n.scrollPagination({scrollMode:i?"auto":"manual",docPerPage:i?24:getDocPerPage(),maxDoc:$(n).data("count"),targetElement:n.children(".newPage"),contentPage:getContentPage(t),scrollTarget:$(window),heightOffset:50,beforeLoad:function(){this.contentPage=getContentPage(t);$("#loading").fadeIn()},afterLoad:function(){$("#loading").fadeOut();n.children("li").length>=this.maxDoc&&(n.stopScrollPagination(),$("#loading").hide(),n.children(".newPage").hide());this.scrollMode!=="manual"||_mobileWidth||n.hasClass("manual-scroll")||n.addClass("manual-scroll");var i=$(this).scrollPagination.docPerPage,t=$(".items li").length;onTextOverflow($(".items li").slice(t-i,t));_isMultiSelectionEnabled&&setMultiSelectList($(".items>li").slice(t-i,t));remoteZoteroInitializers()}})}function onDocumentScroll(){$(window).on("scroll",function(){var n=$("#goToTop"),t=$(this).scrollTop();if(t>_minScrollHeight){if(_isFading)return;n.fadeIn();_isFading=!0}else n.hide(),_isFading=!1})}function onButtonTop(){$(document).on("click","#scrollToImg",function(){scrollToAnchor("complement")});$(document).on("click","#goToTop",function(){$("html, body").animate({scrollTop:0},"slow")})}function displayDocument(n){$("article").show();$("aside").hide();$("article #currentDoc").html(n);_mobileWidth&&$("#embedVideo").insertAfter("#embedMobilVideo")}function openDocument(){function n(n){var t;if(_viewContext=="alert"){t=_MVCPath+_themeId+"/"+_groupId+"/"+_topicId+"/"+_docKey;try{history.pushState({docKey:_docKey,doc:n},document.title,t)}catch(i){history.pushState({docKey:_docKey,doc:t},document.title,t)}}else if(_viewContext=="alertRef"){t=_MVCPath+_topicId+"/"+_docKey;try{history.pushState({docKey:_docKey,doc:n},document.title,t)}catch(i){history.pushState({docKey:_docKey,doc:t},document.title,t)}}else{t=_viewContext=="search"?"/Search/ResultMobile/"+_docKeyPos:"/Pinned/"+_docKeyPos;try{history.pushState({docKey:_docKey,doc:n},document.title,t)}catch(i){history.pushState({docKey:_docKey,doc:t},document.title,t)}}}_docOpening||(_docOpening=!0,_isEntity||typeof _docKeyList=="undefined"||(typeof _docKeyPos=="undefined"&&(_docKeyPos=$(".documentList li").index($("#"+_docKey))),_docKeyPos>=0&&(_docKey=_docKeyList[_docKeyPos])),$.ajax({type:"GET",url:"/Document/ViewMobile",data:{docKey:_isEntity?_docEntity:_docKey,fromBasket:_isEntity||_MVCPath==="/Pinned/"},dataType:"html"}).done(function(t){displayDocument(t);_viewContext!="pdf"&&n(t);_viewContext=="basket"&&$(".basket-close-wrapper").hide();typeof onDocumentOpened!="undefined"&&onDocumentOpened()}).fail(function(n,t,i){var r=n.getResponseHeader("LOGIN_REQUIRED");r!=null?window.location=r:i=="CONSO_ORGANIZATION_MAX_DOC"?alert(n.responseText):displayDocument(n.responseText);_docOpening=!1}),hideZoteroSpans())}function openEntity(n){_isEntity=!0;_docEntity=n;_entityListOffset=$(window).scrollTop();logUsage("/Stubs/LogEntityClick");openDocument()}function onDocumentClick(n){_viewContext=n;$(".documentList").on("click",".docItem",function(){if(!$(this).hasClass("Unknown")){for(var u=$(this).parent().attr("id"),t=$(".documentList"),i=0,r=0,n=t.eq(i);n.attr("id")!=u;)r+=n.data("count"),n=t.eq(++i);_docKeyPos=$(this).index()+r;_oldScrollPos=$(window).scrollTop();openDocument()}})}function onTextOverflow(n){$(n).each(function(){var n=$(this).find(".docKwik"),t,i;if(n.length===0)return!1;t=n.position().top;i=n.outerHeight();t>=_titleMaxHeight?(n.find(".kwik").addClass("hidden"),n.find(".kwik").addClass("hidden")):t+i>_sourceMaxHeight?(n.addClass("kwikOverflow"),n.height(n.height()-30)):$(this).find(".docTitle").outerHeight()+i>175&&$(this).find(".docSource").outerHeight()>=22&&(n.addClass("kwikOverflow"),n.height(n.height()-14))})}function onOrientationChange(){$(window).on("orientationchange",function(){switch(window.orientation){case-90:case 90:window.scrollTo(0,0)}})}function doneResizing(){var t=$(window).width(),i=1e3,n;onButtonTop();onDocumentScroll();typeof swapImage=="function"&&swapImage(!0);onTextOverflow($(".items li"));n=t>i?(t-i-60)/2:8;$("#prevDoc").css({left:n});$("#nextDoc").css({right:n})}function resizeHandler(){$(window).resize(function(){clearTimeout(this.id);this.id=setTimeout(doneResizing,200)})}function onCustomDatepicker(){var n;$("#dateSpecific, #dateStart, #dateEnd").datepicker({showOn:"both",buttonText:"<i class='fa fa-calendar'><\/i>",dateFormat:"yy-mm-dd",changeMonth:!0,changeYear:!0,yearRange:"1840:+20",onSelect:function(n){var t=parseInt(n.substr(0,4)),i=parseInt(n.substr(5,2)),r=parseInt(n.substr(8,2));$(this).prev().find("select.year").val(t);$(this).prev().find("select.month").val(i);$(this).prev().find("select.day").val(r);$(this).val(n);$(this).attr("id")==="dateSpecific"&&$("#dateStart").val(n)}});$(".dateDropdown select.year, .dateDropdown select.month, .dateDropdown select.day").on("focus",function(){n=$(this).val()}).change(function(){var t=$(this).parent().find("select.year").val(),i=$(this).parent().find("select.month").val(),r=$(this).parent().find("select.day").val(),u=new Date(t,i-1,r),f,e;if(u.getFullYear()!=t||u.getMonth()+1!=i||u.getDate()!=r){$(this).val(n);return}n=$(this).val();f=t+"-"+i+"-"+r;e=$(this).parent().next();e.val(f);e.attr("id")==="dateSpecific"&&$("#dateStart").val(f)})}function hideZoteroSpans(){$("aside .Z3988").each(function(){$(this).removeClass("Z3988").addClass("hidden-Z3988")})}function showZoteroSpans(){$("aside .hidden-Z3988").each(function(){$(this).removeClass("hidden-Z3988").addClass("Z3988")})}function remoteZoteroInitializers(){$("#zotero-plugin-init").detach()}function debounce(n,t,i){var r;return function(){var u=this,f=arguments,e=function(){r=null;i||n.apply(u,f)},o=i&&!r;clearTimeout(r);r=setTimeout(e,t);o&&n.apply(u,f)}}function Glow(n){n?($("#myBasketText").addClass("glow-text"),$("#myBasketIcon").addClass("glow-icon")):($("#myBasketText").removeClass("glow-text"),$("#myBasketIcon").removeClass("glow-icon"))}function disableButtons(n){var t="_normal",i="_disable";n?$("#basketCircleCount").addClass("basket-count-dsbld"):(t="_disable",i="_normal",$("#basketCircleCount").removeClass("basket-count-dsbld"));$(".div-basket-actions .butons").each(function(){var r=$(this),u=r.attr("class").replace(t,i);r.attr("class",u).prop("disabled",n)})}function getDocPerPage(){return _mobileWidth?_groupId>0?4:2:_ipadWidth?6:8}function logUsage(n){$.ajax({type:"POST",url:n,dataType:"json"})}function getTvRadioKwikMode(){return $("#sectionOpenType").hasClass("MinuteOpenAll")}function DeleteCookie(n){date=new Date;date.setFullYear(date.getFullYear()-1);WriteCookie(n,null,date)}function WriteCookie(n,t){var i=WriteCookie.arguments,r=WriteCookie.arguments.length,u=r>2?i[2]:null,f=r>3?i[3]:null,e=r>4?i[4]:null,o=r>5?i[5]:!1;document.cookie=n+"="+escape(t)+(u==null?"":"; expires="+u.toGMTString())+(f==null?"":"; path="+f)+(e==null?"":"; domain="+e)+(o==!0?"; secure":"")}function ReadCookie(n){var t=n+"=";if(document.cookie.length>0&&(offset=document.cookie.indexOf(t),offset!=-1))return offset+=t.length,end=document.cookie.indexOf(";",offset),end==-1&&(end=document.cookie.length),unescape(document.cookie.substring(offset,end))}function replaceUrlParam(n,t,i){i==null&&(i="");var r=new RegExp("\\b("+t+"=).*?(&|$)");return n.search(r)>=0?n.replace(r,"$1"+i+"$2"):n+(n.indexOf("?")>0?"&":"?")+t+"="+i}function getParameterByName(n,t){t||(t=window.location.href);n=n.replace(/[\[\]]/g,"\\$&");var r=new RegExp("[?&]"+n+"(=([^&#]*)|&|#|$)"),i=r.exec(t);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null}function openDlg(n){openDialogCustom("teasingPopup",n,"Teasing",{width:730,height:352,resizable:!1,modal:!0,dialogClass:"no-title",buttons:{Cancel:{text:lbl_closePopup,"class":"button-white"},OK:{"class":"hidden"}}})}function openSocialTeasingDlg(){openDlg("/Teasing/SocialTeasingDlg")}function openSocialLimitReachedTeasingDlg(){openDlg("/Teasing/SocialLimitReachedTeasingDlg")}function openAnalytikTeasingDlg(){openDlg("/Teasing/AnalytikTeasingDlg")}function openAnalytikSearchStatsTeasingDlg(){openDlg("/Teasing/AnalytikSearchStatsTeasingDlg")}function openDownloadMediaTeasingDlg(){openDlg("/Teasing/DownloadMediaTeasingDlg")}function openLandingPage(n){window.open(n,"_blank","toolbar=no,scrollbars=yes,resizable=yes,width="+screen.width/2+",height="+screen.height/2)}function logTeasingEvent(n){$.ajax({type:"POST",url:"/Teasing/"+n,dataType:"json"})}var modalWindow={parent:"body",content:null,width:null,height:null,open:function(){$("body").css("overflow","hidden");var n="";n+='<div class="modal-overlay"><\/div>';n+='<div class="modal-window" style="width:'+this.width+"px; height:"+this.height+"px; margin-top:-"+(this.height+100)/2+"px; margin-left:-"+this.width/2+'px;"><div class="modal-close"><\/div>';n+=this.content;n+="<\/div>";$(this.parent).append(n);$(".modal-close, .modal-overlay").click(function(){modalWindow.close()});$("body").on("keyup",function(n){n.which===27&&modalWindow.close()})},close:function(n){if($("body").css("overflow",""),$("body").off(),$(".modal-overlay").remove(),$(".modal-window").hide(),n!=undefined&&n.toLowerCase()=="true"&&(parent.document.forms.length==0&&parent.location.reload(),parent.document.forms[0].hidRebind&&(parent.document.forms[0].hidRebind.value=1,parent.document.forms[0].submit())),n!=undefined&&n.toLowerCase()=="reloadonlyframe"){var t=parent.document.getElementById("iFrameTopic");t!=null&&t.contentWindow.document.forms[0].submit();parent.refreshTopicDocList&&typeof parent.refreshTopicDocList!="undefined"&&parent.refreshTopicDocList()}}},openMyModal=function(n,t,i){modalWindow.width=t;modalWindow.height=i;modalWindow.content='<iframe id="popup" name="popup" width="'+t+'" height="'+i+'" frameborder="0" allowtransparency="true" src="'+n.replace(/"/g,"&quot;")+'"><\/iframe>';modalWindow.open();CloseBoxOnClick=modalWindow.close},modifyMyModal=function(n,t,i){modalWindow.close();openMyModal(n,t,i)},animTimer,isPortrait,_notificationConfig;$(document).ready(function(){var n=function(){$(".mainPanel").length>0&&_mobileWidth&&$("#topNavTitle").hide()};$(window).on("orientationchange",function(){if($("#topNavTitle").attr("style",""),$(window).width()<450&&isPortrait())$("#topNavTitle").on("clickoutside",n);else $("#topNavTitle").off("clickoutside",n)});$("#imgMenuIcon").click(function(n){$("#topNavHelp").hide();$("#topNavTitle").toggle();n.stopPropagation()});$("#topNavTitle").on("clickoutside",n);$("#helpIcon, #helpText").click(function(n){_mobileWidth&&$("#topNavTitle").hide();$("#topNavHelp").toggle();n.stopPropagation()});$("#communicationMessageIcon, #communicationMessageText").click(function(n){n.preventDefault();openCommunication(_UIlangId)});$("#topNavHelp").on("clickoutside",function(){$("#topNavHelp").hide()});location.pathname.indexOf("Alert")>0&&$("#topNavAlert").attr("class","topnav3");$("#pref a").click(function(n){n.preventDefault();Popup("","/WebPages/preferences.aspx",50,8,630,550)});$("#contactUs a").click(function(n){n.preventDefault();Popup("","/WebPages/LearnMore.aspx",null,null,null,310)})});var _animSpeed=400,_minScrollHeight=150,_titleMaxHeight=150,_sourceMaxHeight=200,_docOpening=!1,_isFading=!1,_animTimer=null,_mobileWidth=!1,_docKey="",_viewContext="alert",_oldScrollPos=0,_maxDoc,_isMultiSelectionEnabled=!1,countPlaceholder=0,_pdfDoc=!1,_docKeyPos,_updatePinnedDocs=!1,ua=navigator.userAgent.toLowerCase(),isAndroid=ua.indexOf("android")>-1,_ipadWidth=!1,_isEntity=!1,_docEntity="",_entityListCache={},_entityListOffset=0;$(window).on("popstate hashchange",function(n){var i=Modernizr.history?n.originalEvent.state:n.originalEvent.target.history.state,t;i?_docOpening||(t=i.doc,t.charAt(0)=="/"?location.assign(t):(displayDocument(t),onDocumentOpened())):closeDoc()});isPortrait=function(){switch(window.orientation){case 0:case 180:return!0;default:return!1}};$(document).ready(function(){if(_mobileWidth=$(window).width()<=640,_ipadWidth=$(window).width()>=768&&$(window).width()<1024,Modernizr.boxsizing||$.ajax({url:"/Scripts/polyfill/borderBoxModel-min.js",dataType:"script",cache:!0,global:!1,crossDomain:!1}),!Modernizr.history){$.ajax({url:"/Scripts/polyfill/history.js",dataType:"script",cache:!0,global:!1,crossDomain:!1});var n=window.history.location||window.location}screen.width>1024&&resizeHandler();navigator.userAgent.indexOf("iPhone OS 7")!=-1&&onOrientationChange()}),function(n){typeof define=="function"&&define.amd?define(["jquery"],n):typeof exports=="object"?n(require("jquery")):n(jQuery)}(function(n){function i(n){return t.raw?n:encodeURIComponent(n)}function f(n){return t.raw?n:decodeURIComponent(n)}function e(n){return i(t.json?JSON.stringify(n):String(n))}function o(n){n.indexOf('"')===0&&(n=n.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return n=decodeURIComponent(n.replace(u," ")),t.json?JSON.parse(n):n}catch(i){}}function r(i,r){var u=t.raw?i:o(i);return n.isFunction(r)?r(u):u}var u=/\+/g,t=n.cookie=function(u,o,s){var y,a,h,v,c,p;if(arguments.length>1&&!n.isFunction(o))return s=n.extend({},t.defaults,s),typeof s.expires=="number"&&(y=s.expires,a=s.expires=new Date,a.setTime(+a+y*864e5)),document.cookie=[i(u),"=",e(o),s.expires?"; expires="+s.expires.toUTCString():"",s.path?"; path="+s.path:"",s.domain?"; domain="+s.domain:"",s.secure?"; secure":""].join("");for(h=u?undefined:{},v=document.cookie?document.cookie.split("; "):[],c=0,p=v.length;c<p;c++){var w=v[c].split("="),b=f(w.shift()),l=w.join("=");if(u&&u===b){h=r(l,o);break}u||(l=r(l))===undefined||(h[b]=l)}return h};t.defaults={};n.removeCookie=function(t,i){return n.cookie(t)===undefined?!1:(n.cookie(t,"",n.extend({},i,{expires:-1})),!n.cookie(t))}});_notificationConfig={className:"alert-danger",faClass:"fa-exclamation-circle",alive:1e4,tpl:'<div class="alert {className}"><button type="button" class="close" data-dismiss="alert">&times;<\/button><p><i class="fa {faClass} font--2x"><\/i><span>{content}<\/span><\/p><\/div>'};$(document).ajaxError(function(n,t){if(!t.exceptionHandled)switch(t.status){case 400:return;case 401:window.location="/Login?ErrorCode=1";break;case 500:_notificationConfig.content=t.statusText;$.notifications(_notificationConfig)}}),function(n){"use strict";var i=function(n,t){for(var i in t)n=n.replace(new RegExp("{"+i+"}","g"),t[i]);return n},t=function(){var t={className:"notification",alive:4e3,fadeIn:600,fadeOut:800,sticky:!1,tpl:'<div class="{className}"><div class="{className}-img"><img src="{image}" alt="" /><\/div><div class="{className}-content"><div class="{className}-title">{title}<\/div>{content}<\/div><\/div>',onShow:function(){},onHide:function(){}},r=function(r){n("#notifications-wrapper").length||n("body").append('<div id="notifications-wrapper"><\/div>');var u=n("#notifications-wrapper"),f=u.data("count")+1||1;t=n.extend({},t,r);u.data("count",f);n(i(t.tpl,t)).attr("data-id",f).appendTo(u).css({opacity:0}).animate({opacity:1},t.fadeIn,function(){var u=this,i=n(u),r=parseInt(u.getAttribute("data-id"),10);i.on("click",function(){n.notifications("remove",r)}).find("a").on("click",function(n){n.stopImmediatePropagation()});if(!t.sticky){i.data("timer",setTimeout(function(){n.notifications("remove",r)},t.alive));i.on("mouseenter",function(){clearTimeout(i.data("timer"))}).on("mouseleave",function(){i.data("timer",setTimeout(function(){n.notifications("remove",r)},t.alive))})}t.onShow(t)})},u=function(){var u=n("."+t.className+":not(.removing)").last().data("id"),i,r;arguments.length&&(typeof arguments[0]=="function"?r=arguments[0]:typeof arguments[1]=="function"?(u=arguments[0],r=arguments[1]):u=arguments[0]);i=n('[data-id="'+u+'"]');r&&(t=n.extend({},t,{onHide:r}));i.addClass("removing").animate({opacity:0},t.fadeOut,function(){i.animate({height:0},150,function(){clearTimeout(i.data("timer"));i.remove();t.onHide(t)})})},f=function(i){typeof i=="function"&&(t=n.extend({},t,{onHide:i}));n("."+t.className).each(function(){n.notifications("remove",this.getAttribute("data-id"),{onHide:null})});n("#notifications-wrapper").data("count",0);t.onHide(t)};return{add:r,remove:u,removeAll:f}}();n.notifications=function(i){if(t[i])return t[i].apply(this,Array.prototype.slice.call(arguments,1));if(typeof i!="object"&&i)n.error('Method "'+arguments[0]+'" does not exist in $.notifications plugin!');else return t.add.apply(this,arguments)};n(document).on("click.notification.data-api",'[data-toggle="notification"]',function(t){var i=n(this),r=i.data();t.preventDefault();n.notifications("add",r)})}(jQuery)